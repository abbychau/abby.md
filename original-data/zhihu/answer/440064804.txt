计算器是如何实现乘法、除法、指数、对数、三角函数运算的？
<p>谢邀。</p><p>这条题目的技术栈跨度挺大的，我试试用最短的方法写出来。</p><p>1937年，年仅21岁的麻省理工学院研究生<b>克劳德·夏农</b>发表了他的伟大论文《对继电器和开关电路中的符号分析》，文中首次提及数位电子技术的应用。他向人们展示了如何使用开关来实现逻辑和数学运算。</p><p>1和0对应的是数位电子技术的1和0。在这个时间附近，还有大量的类比电脑。</p><p>我单以<b>冯·纽曼结构</b>的计算器来解答这个问题，因为这是我们日常使用的计算机结构。</p><p>这种结构中立地称为<b>储存程式结构</b>，也就是把一部电脑描述成四个主要部分：算术逻辑单元、控制电路、记忆体及输入输出装置。</p><p>这些部件通过一组一组的排线连线，并且由一个时鐘来驱动。</p><p>当中最重要的部分是算术逻辑单元（简称ALU），单是这个ALU 已经可以造到<b>加减乘</b>三则混算了。</p><p>加法和减法算是同样做法，就是一大串的加法器(full-adder)电路。如果手头上有NAND 门的话，要动手造起来也很简单，就是把进位加进下个加法器。</p><p><br></p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-8a74f2288c2b3bae1c98cd1c2ff29bf9_720w.gif?source=3af55fa1" data-caption="" data-size="normal" data-rawwidth="220" data-rawheight="149" data-thumbnail="https://pic3.zhimg.com/v2-8a74f2288c2b3bae1c98cd1c2ff29bf9_720w.jpg?source=3af55fa1" class="content_image" width="220"></noscript><img src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='220'%20height='149'&gt;&lt;/svg&gt;" data-caption="" data-size="normal" data-rawwidth="220" data-rawheight="149" data-thumbnail="https://pic3.zhimg.com/v2-8a74f2288c2b3bae1c98cd1c2ff29bf9_720w.jpg?source=3af55fa1" class="content_image lazy" width="220" data-actualsrc="https://pic3.zhimg.com/v2-8a74f2288c2b3bae1c98cd1c2ff29bf9_720w.gif?source=3af55fa1"></figure><p><br></p><p>而乘法也很简单，就是像我们日常的竖式计算，只要用加法器把10以来的乘数计好，把结果放到记存器，最后把部分积加起来就完了。</p><p><b>除法</b>就比较难了，可以算是计算机组织的最后boss。但具体操作也是和竖式计算一样的，有兴趣可以搜索<b>除法器</b>，中间会用到一些ALU 上的位操作。</p><p><b>指数</b>：硬算，这没有甚么技巧的。唯一技巧就是只保留需要的有效数字，在计算时，记存器只保留<b>有效数字內的结果</b>和<b>要保留多少个0</b>，这两项变数。这样可以大複减低低位数的ALU 操作，也能保持一定程度的精度。</p><p><b>对数</b>：是用<b>泰勒级数</b>展开的(IA64为例)，所以可以计算某一个指数数位。也会辅以数表加速。</p><p><b>三角函数</b>：是用<b>cordic演算法</b>，cordic演算法理论核心是利用公式旋转向量：</p><p>X1=X0*cos(θ)-Y0*sin(θ)=cos(θ)(X0-Y0*tan(θ))</p><p>Y1=Y0*cos(θ)+X0*sin(θ)=cos(θ)(Y0+X0*tan(θ))</p><p>有了这个关系，就可以用基础运算（不查表，指数，对数等）推出答案。</p><p><br></p><p>sin和cos 是用这两条式进行归递运算的：</p><p>cos(a+b) = cos(a)cos(b) – sin(a)sin(b) = cos(a) [cos(b) – tan(a)sin(b)]</p><p>sin(a+b) = sin(a)cos(b) + cos(a)sin(b) = cos(a) [tan(a)cos(b) +sin(b)]</p><p>以达到指定有效数字。</p>
1531319149